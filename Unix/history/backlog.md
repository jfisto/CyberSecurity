## В рамках работы были решены следующие проблемы:
#### 1. *Возникновение ошибки игнорирования нулевых байтов при чтении*
#### 2. *Проблема получения индекса команды при работе с настроенным форматом времени*
#### 3. *Разработка и оптимизация проверки установленного формата времени при логировании команд в history*
#### 4. *Рефакторинг уже имеющегося кода и кода с учетом добавленных нововведений*

## В рамках работы были выполнены следующие задачи:
### *Возникновение ошибки игнорирования нулевых байтов при чтении строки*

if [ "$AUDIT_INCLUDED" == "$$" ] || { [ -z "$SSH_ORIGINAL_COMMAND" ] && [ "$(cat /proc/$$/cmdline)" == 'bash-c"/etc/forcecommand.sh"' ]; }; then

***Данная проблема возникает при использовании переменных среды и проверки соответствия содержимого файла /proc/$$/cmdline значению bash-c"/etc/forcecommand.sh"***

***Для решения этой проблемы можно использовать следующие решения:***
#### 1. if [ "$AUDIT_INCLUDED" == "$$" ] || { [ -z "$SSH_ORIGINAL_COMMAND" ] && [ "$(tr -d '\0' < /proc/$$/cmdline)" == 'bash-c"/etc/forcecommand.sh"' ]; }; then
*В команде используется tr -d '\0'. Параметр -d указывает на удаление символов, а '\0' - это символ, представляющий нулевой байт, который может использоваться в строках, созданных в некоторых операционных системах, таких как Linux. Поэтому tr -d '\0' удаляет все нулевые байты из строки, полученной из /proc/$$/cmdline.*
#### 2. if [ "$AUDIT_INCLUDED" == "$$" ] || { [ -z "$SSH_ORIGINAL_COMMAND" ] && [ "$(tr '\0' ' ' < /proc/$$/cmdline)" == 'bash-c"/etc/forcecommand.sh"' ]; }; then
*В первой команде, tr '\0' ' ' используется для замены нулевых байтов на пробелы в строке, полученной из /proc/$$/cmdline. Это может быть полезно для отображения строки в удобном для чтения формате, но не обязательно для проверки условия.*

![Исправление ошибки игнорирования нулевого байта](https://github.com/jfisto/CyberSecurity/edit/main/Unix/history/1.png)



### *Проблема получения индекса команды при работе с настроенным форматом времени*


![Исправление ошибки игнорирования нулевого байта](https://github.com/jfisto/CyberSecurity/edit/main/Unix/history/2.png)

### *Разработка и оптимизация проверки установленного формата времени при логировании команд в history*


![Исправление ошибки игнорирования нулевого байта](https://github.com/jfisto/CyberSecurity/edit/main/Unix/history/3.png)

### *Рефакторинг уже имеющегося кода и кода с учетом добавленных нововведений*


![Исправление ошибки игнорирования нулевого байта](https://github.com/jfisto/CyberSecurity/edit/main/Unix/history/4.png)


